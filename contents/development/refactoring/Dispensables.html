<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="ITエンジニアがこれまで学んだことを整理するサイト" />
    <meta name="keywords" content="IT,エンジニア,Java,リファクタリング,Code Smell">
  
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="../../../css/print.css" media="print">
    <script src="../../../js/openclose.js"></script>
  
    <title>システム開発知識が集うサイト</title>
  
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <style>
      .menu1 a {background-position: -10px -10px;}
      .menu2 a {background-position: -10px -130px;}
      .menu3 a {background-position: -10px -250px;}
      .menu4 a {background-position: -10px -370px;}
      .menu5 a {background-position: -10px -490px;}
    </style>
    <![endif]-->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156501005-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156501005-1');
    </script>
  </head>

  <html>
    <body class="defaultbody">

    <div id="container">
    
    <!--PC用（801px以上端末）で表示させるブロック-->
    <header class="pc">
      <h1 class="logo"><a href="https://nailmaru.github.io/"><img src="../../../images/logo.png" alt="TOP"></a></h1>
    
      <!--PC用（801px以上端末）メニュー-->
      <nav id="menubar">
        <ul>
          <li class="menuimg menu1"><a href="https://nailmaru.github.io/"><span>Home</span></a></li>
        </ul>
      </nav>
      <ul class="icon">
        <li><a href="https://twitter.com/marukugi" target="_blank"><img src="../../../images/icon_twitter.png" alt="Twitter"></a></li>
        <li><a href="https://qiita.com/taumax" target="_blank"><img src="../../../images/icon_qiita.png" alt="Qiita"></a></li>
      </ul>
    </header>
    <!--/.pc-->
    
    <!--小さな端末用（800px以下端末）で表示させるブロック-->
    <header class="sh">
      <h1 class="logo"><a href="https://nailmaru.github.io/"><img src="../../../images/logo.png" alt="SAMPLE SITE"></a></h1>
    
      <!--小さな端末用（800px以下端末）メニュー-->
      <div id="menubar-s">
      <nav>
        <ul>
          <li class="menuimg menu1"><a href="https://nailmaru.github.io/"><span>Home</span></a></li>
        </ul>
      </nav>
      <ul class="icon">
        <li><a href="https://twitter.com/marukugi" target="_blank"><img src="../../../images/icon_twitter.png" alt="Twitter"></a></li>
        <li><a href="https://qiita.com/taumax" target="_blank"><img src="../../../images/icon_qiita.png" alt="Qiita"></a>  <  /li>
      </ul>
    
      </div>
      <!--/#menubar-s-->
    </header>
    <!--/.sh-->

<div id="contents">

<div id="main">

<span id="pagetop"></span>


<title>Code Smell とリファクタリング技法について調べてみた</title>
<section class="box">

  <h1 id="codesmell">Code Smellとは？</h1>
<p>以前（2019年8月頃）、CSD (Certified Scrum Developer) 研修を受講しました。非常にためになる研修で、その研修の中でCode Smellというものについて学びました。
Code Smellとは、ソースコードにリファクタリングすべき問題が存在することを示す何らかの兆候のことです。
ペアプロでTDDで開発を行い、開発したコードからCode Smellを嗅ぎ取ったらリファクタリングして取り除く。という開発の流れを教わりました。
研修受講後、このCode Smellについてもっと知りたいと思ってググったりしたのですが、日本語で解説しているサイトはまだ少ないと感じました。
英語で解説しているサイトが多く、その中でも以下のサイトがCode Smellとリファクタリングの技法について体系的にまとめていると思いました。</p>
<ul>
  <li><a href="https://sourcemaking.com/refactoring/smells">Code Smells (SourceMaking)</a></li>
</ul>
<p>このサイトでは、以下5つの大分類を元に、それに関連するCode Smellを紹介しています。</p>
<ul>
  <li><a href="https://qiita.com/taumax/items/f192b16676f78fa04849#bloaters">Bloaters</a></li>
  <li><a href="https://qiita.com/taumax/items/f192b16676f78fa04849#object-orientation-abusers">Object-Orientation-Abusers</a></li>
  <li><a href="https://qiita.com/taumax/items/f192b16676f78fa04849#change-preventers">Change-Preventers</a></li>
  <li><a href="https://qiita.com/taumax/items/f192b16676f78fa04849#dispensables">Dispensables</a></li>
  <li><a href="https://qiita.com/taumax/items/f192b16676f78fa04849#couplers">Couplers</a></li>
</ul>
<p>ここから先は、このページをベースに、各Code Smellを翻訳したものを記載しています。このページだけだとよくわからないこともあったので、その場合は別のページと組み合わせたものを記載しています。
Code Smellを解消するために参考となるリファクタリング技法や、その他参考になりそうな概念もこの記事の最後の方に記載しているので合わせて見てください。</p>

書籍としてはこの辺りが参考になると思います。
<table border="0" cellpadding="0" cellspacing="0">
  <tr>
    <!-- リファクタリング 既存のコードを安全に改善する（第2版）【電子書籍】[ MartinFowler ] -->
    <!--
    <td>
      <div style="border:1px solid #95a5a6;border-radius:.75rem;background-color:#FFFFFF;width:280px;margin:0px;padding:5px;text-align:center;overflow:hidden;">
        <table>
          <tr>
            <td style="width:128px">
              <a href="https://hb.afl.rakuten.co.jp/hgc/18ea662e.a3c33d12.18ea662f.a56a6fcd/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Frakutenkobo-ebooks%2F3502d28e297130d7893c47fbe1000ac8%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Frakutenkobo-ebooks%2Fi%2F18752311%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                <img src="https://hbb.afl.rakuten.co.jp/hgb/18ea662e.a3c33d12.18ea662f.a56a6fcd/?me_id=1278256&item_id=18752311&m=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Frakutenkobo-ebooks%2Fcabinet%2F4582%2F2000007974582.jpg%3F_ex%3D80x80&pc=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Frakutenkobo-ebooks%2Fcabinet%2F4582%2F2000007974582.jpg%3F_ex%3D128x128&s=128x128&t=picttext" border="0" style="margin:2px" alt="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]" title="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]">
              </a>
            </td>
            <td style="vertical-align:top;width:136px;">
              <p style="font-size:12px;line-height:1.4em;text-align:left;margin:0px;padding:2px 6px;word-wrap:break-word">
                <a href="https://hb.afl.rakuten.co.jp/hgc/18ea662e.a3c33d12.18ea662f.a56a6fcd/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Frakutenkobo-ebooks%2F3502d28e297130d7893c47fbe1000ac8%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Frakutenkobo-ebooks%2Fi%2F18752311%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;" ><font color=black>リファクタリング 既存のコードを安全に改善する（第2版）【電子書籍】[ MartinFowler ]</font></a><br><span ><font color=black>価格：4840円</font></span> <span style="color:#BBB">(2020/1/10時点)</span>
              </p>
            </td>
          </tr>
        </table>
      </div><br>
      <p style="color:#000000;font-size:12px;line-height:1.4em;margin:5px;word-wrap:break-word">
      </p>
    </td>
    -->
    <!-- リファクタリング（第2版） 既存のコードを安全に改善する [ Martin Fowler 著 ] -->
    <td>
      <div style="border:1px solid #95a5a6;border-radius:.75rem;background-color:#FFFFFF;width:280px;margin:0px;padding:5px;text-align:center;overflow:hidden;">
        <table>
          <tr>
            <td style="width:128px">
              <a href="https://hb.afl.rakuten.co.jp/hgc/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F16085666%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F19803391%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                <img src="https://hbb.afl.rakuten.co.jp/hgb/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?me_id=1213310&item_id=19803391&m=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Fbook%2Fcabinet%2F4546%2F9784274224546.jpg%3F_ex%3D80x80&pc=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Fbook%2Fcabinet%2F4546%2F9784274224546.jpg%3F_ex%3D128x128&s=128x128&t=picttext" border="0" style="margin:2px" alt="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]" title="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]">
              </a>
            </td>
            <td style="vertical-align:top;width:136px;">
              <p style="font-size:12px;line-height:1.4em;text-align:left;margin:0px;padding:2px 6px;word-wrap:break-word">
                <a href="https://hb.afl.rakuten.co.jp/hgc/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F16085666%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F19803391%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                  <font color=black>リファクタリング（第2版） 既存のコードを安全に改善する [ Martin Fowler 著 ]</font>
                </a><br>
                <span ><font color=black>価格：4840円（税込、送料無料)</font></span>
                <span style="color:#BBB">(2020/1/10時点)</span>
              </p>
            </td>
          </tr>
        </table>
      </div><br><p style="color:#000000;font-size:12px;line-height:1.4em;margin:5px;word-wrap:break-word"></p>
    </td>
    <!-- レガシーコード改善ガイド 保守開発のためのリファクタリング （Object　oriented　selection） [ マイケル・C．フェザーズ ] -->
    <td>
      <div style="border:1px solid #95a5a6;border-radius:.75rem;background-color:#FFFFFF;width:280px;margin:0px;padding:5px;text-align:center;overflow:hidden;">
        <table>
          <tr>
            <td style="width:128px">
              <a href="https://hb.afl.rakuten.co.jp/hgc/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F6121689%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F13224794%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  >
                <img src="https://hbb.afl.rakuten.co.jp/hgb/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?me_id=1213310&item_id=13224794&m=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Fbook%2Fcabinet%2F6839%2F9784798116839.jpg%3F_ex%3D80x80&pc=https%3A%2F%2Fthumbnail.image.rakuten.co.jp%2F%400_mall%2Fbook%2Fcabinet%2F6839%2F9784798116839.jpg%3F_ex%3D128x128&s=128x128&t=picttext" border="0" style="margin:2px" alt="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]" title="[商品価格に関しましては、リンクが作成された時点と現時点で情報が変更されている場合がございます。]">
              </a>
            </td>
            <td style="vertical-align:top;width:136px;">
              <p style="font-size:12px;line-height:1.4em;text-align:left;margin:0px;padding:2px 6px;word-wrap:break-word">
                <a href="https://hb.afl.rakuten.co.jp/hgc/18ea5a9d.088b85e7.18ea5a9e.373b04d2/?pc=https%3A%2F%2Fitem.rakuten.co.jp%2Fbook%2F6121689%2F&m=http%3A%2F%2Fm.rakuten.co.jp%2Fbook%2Fi%2F13224794%2F&link_type=picttext&ut=eyJwYWdlIjoiaXRlbSIsInR5cGUiOiJwaWN0dGV4dCIsInNpemUiOiIxMjh4MTI4IiwibmFtIjoxLCJuYW1wIjoicmlnaHQiLCJjb20iOjEsImNvbXAiOiJkb3duIiwicHJpY2UiOjEsImJvciI6MSwiY29sIjoxLCJiYnRuIjoxLCJwcm9kIjowfQ%3D%3D" target="_blank" rel="nofollow noopener noreferrer" style="word-wrap:break-word;"  ><font color=black>レガシーコード改善ガイド 保守開発のためのリファクタリング （Object　oriented　selection） [ マイケル・C．フェザーズ ]</font>
                </a><br>
                <span ><font color=black>価格：4620円（税込、送料無料)</font></span>
                <span style="color:#BBB">(2020/1/10時点)</span>
              </p>
            </td>
          </tr>
        </table>
      </div><br>
      <p style="color:#000000;font-size:12px;line-height:1.4em;margin:5px;word-wrap:break-word"></p>
    </td>
  </tr>
</table>

<h2 id="dispensables">Dispensables</h2>
<p><a href="https://sourcemaking.com/refactoring/smells/dispensables">Dispensables</a>
Dispensablesとは、コードをきれいで効率的で理解しやすくする上で必要のないもののことです。</p>
<h1 id="comments">Comments</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/comments">Comments（コメント）</a></p>
<p><strong><em>兆候と症状</em></strong>
メソッドが説明コメントで埋め尽くされている状態。</p>
<p><strong><em>問題の理由</em></strong>
コメントは通常、プログラム作成者が自分のコードが直感的でも明白でもないことに気付いたときに、それを改善する目的で記載されます。そのような場合、コメントは、改善されるべき臭いのするコードに消臭剤を撒いて臭いを隠すようなものです。</p>
<p>もっともよいコメントはメソッドやクラスに良い名前を付けることです。</p>
<p>コメントがないと理解できないようなソースコードは、コメントが不要になるようにコード構造を変更してみてください。</p>
<p><strong><em>対処</em></strong></p>
<ul>
  <li><p>コメントが複雑な式を説明することを目的としている場合、式は「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-variable">Extract Variable</a>」を使用して理解可能な部分式に分割する必要があります。</p></li>
  <li><p>コメントがコードのセクションを説明している場合、このセクションは「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を介して別メソッドとして抽出できます。新しいメソッドの名前はコメントを参考にしましょう。</p></li>
  <li><p>メソッドがすでに抽出されているが、メソッドが何をするのかを説明するためにコメントが必要な場合は、メソッド名をわかりやすいものにします。これには「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#rename-method">Rename Method</a>」を使用します。</p></li>
  <li><p>システムが機能するために必要な状態に関するルールをアサートする必要がある場合は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#introduce-assertion">Introduce Assertion</a>」を使用します。</p></li>
</ul>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>コードがより直感的で明確になります。</li>
</ul>
<p><strong><em>When to Ignore</em></strong>
時としてコメントは有用なものです。</p>
<ul>
  <li>特定の方法で実装されている理由を説明するとき。</li>
  <li>複雑なアルゴリズムを説明するとき（アルゴリズムを簡素化する他のすべての方法が試され、不足しているとき）。</li>
</ul>
<h1 id="duplicatecode">Duplicate Code</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/duplicate-code">Duplicate Code（重複コード）</a></p>
<p><strong><em>兆候と症状</em></strong>
ほとんど同じようなコードが見られる場合</p>
<p><strong><em>問題の理由</em></strong>
通常、コードの重複は、複数のプログラマーが同じプログラムの異なる部分を同時に操作しているときに発生します。彼らはさまざまなタスクに取り組んでいるので、同僚が似たようなコードを既に書いていることに気付いていない可能性があります。</p>
<p>コードの特定の部分が異なって見えるが実際には同じジョブを実行する場合のように、より微妙な重複もあります。このような重複は、見つけて修正するのが難しい場合があります。</p>
<p>意図的に重複させている場合もあります。納期に追われているようなときで、既存のコードが”ほぼ正しく”要件を満たせる場合、初心者のプログラマーは、関連するコードをコピーして貼り付ける誘惑に抵抗できないかもしれません。また、場合によっては、単にプログラマーが整理するのをさぼるようなこともあります。</p>
<p><strong><em>対処</em></strong>
同じクラスの2つ以上のメソッドで重複コードが見つかった場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を使用して新しいメソッドを作成し、両方の場所でその新しいメソッドを呼び出します。</p>
<ul>
  <li><p>2つの同階層のサブクラスで重複コードを見つけた場合：</p></li><li><p>両方のクラスに「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を用いて、抽出したメソッドに対して「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#pull-up-field">Pull Up Field</a>」で使用されているフィールドを抽出します。</p></li>
  <li><p>重複コードがコンストラクタの内部に存在する場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#pull-up-constructor-body">Pull Up Constructor Body</a>」を適用します。</p></li>
  <li><p>重複コードが似ているが完全には一致しない場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#form-template-method">Form Template Method</a>」を適用します。</p></li>
  <li><p>2つのメソッドが同じことを別のアルゴリズムで実現している場合、最適なアルゴリズムを選択し、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#substitute-algorithm">Substitute Algorithm</a>」を適用します。</p></li>
  <li><p>重複コードが異なる二つのクラスで見つかった場合：</p></li>
  <li><p>対象のクラスが階層の一部ではない場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-superclass">Extract Superclass</a>」を適用して新しいスーパークラスを一つ作り、そのスーパークラスに重複コードを持たせます。</p></li>
  <li><p>スーパークラスを作るのが難しい場合は、一方のクラスから「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-class">Extract Class</a>」を使用してクラスを抽出し、もう一方のクラスは抽出したコンポーネントを使用します。</p></li>
  <li><p>多数の条件式が存在し、同じコードを実行する（条件のみが異なる）場合は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#consolidate-conditional-expression">Consolidate Conditional Expression</a>」を使用してこれらの演算子を単一の条件にマージし、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を使用して、条件を簡単な別のメソッドに配置し、分かりやすいメソッド名を付けます。</p></li>
  <li><p>条件式のすべての分岐で同じコードが実行される場合：「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#consolidate-duplicate-conditional-fragments">Consolidate Duplicate Conditional Fragments</a>」を使用して、条件ツリーの外側に同じコードを配置します。</p></li>
</ul>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>重複コードをマージすることでコードの構造が簡潔になり、コードを短くすることができる。</li>
  <li>簡潔さ＋短さ＝単純化が容易で、サポートが安価なコード。</li>
</ul>
<h1 id="lazyclass">Lazy Class</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/lazy-class">Lazy Class（怠け者クラス）</a></p>
<p><strong><em>兆候と症状</em></strong>
クラスを理解して維持するには、常に時間とコストがかかります。したがって、時間とコストをかける価値のないクラスは削除する必要があります。</p>
<p><strong><em>問題の理由</em></strong>
おそらく、最初のうちはクラスはちゃんと機能するように設計されていました。しかし、いくつかのリファクタリングの後、クラスは途方もなく小さくなりました。</p>
<p>あるいは、決して成し遂げられなかった将来の開発作業をサポートするために設計されたのかもしれません。</p>
<p><strong><em>対処</em></strong>
ほとんど役に立たないコンポーネントには、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#inline-class">Inline Class</a>」を行う必要があります。
関数が少ないサブクラスの場合は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#collapse-hierarchy">Collapse Hierarchy</a>」を試してください。</p>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>コードサイズを小さくすることができる。</li>
  <li>メンテナンス性の向上。</li>
</ul>
<h1 id="dataclass">Data Class</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/data-class">Data Class（データクラス）</a></p>
<p><strong><em>兆候と症状</em></strong>
データクラスは、フィールドとそれらへのアクセッサメソッド(getter/setter)のみを含むクラスを指します。これらは、他のクラスで使用される単なるデータのコンテナです。これらのクラスには追加機能は含まれておらず、所有するデータを独立して操作することはできません。</p>
<p><strong><em>問題の理由</em></strong>
新しく作成されたクラスに含まれるパブリックフィールドの数が少ないことは普通のことです（getter/setterが少数の場合もあります）。しかし、オブジェクトの真の力は、オブジェクト内のデータに動作タイプや操作を含めることができることです。</p>
<p><strong><em>対処</em></strong></p>
<ul>
  <li><p>クラスにパブリックフィールドが含まれる場合は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#encapsulate-field">Encapsulate Field</a>」を使用して直接アクセスできないようにし、getter/setterを介してのみデータにアクセスできるようにしましょう。</p></li>
  <li><p>コレクション（配列など）に格納されているデータには、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#encapsulate-collection">Encapsulate Collection</a>」を使用します。</p></li>
  <li><p>データクラスを使用しているクライアントコードを確認します。その中に、データクラス自体に配置されるべき機能があった場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#move-method">Move Method</a>」と「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#extract-method">Extract Method</a>」を使用して、その機能をデータクラスに移行します。</p></li>
</ul>
<p>よく考え抜かれたメソッドでクラスがいっぱいになったら、クラスデータへの過度に広範なアクセスを可能にするデータアクセスの古いメソッドを削除することができます。これには、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#remove-setting-method">Remove Setting Method</a>」と「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#hide-method">Hide Method</a>」が役立つ場合があります。</p>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>コードが理解しやすくなり、構成が改善されます。特定のデータに対する操作は、コード全体で無計画に行われるのではなく、単一の場所に収集されるようになりますた。</li>
  <li>クライアントコードの重複を見つけるのに役立ちます。</li>
</ul>
<h1 id="deadcode">Dead Code</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/dead-code">Dead Code（到達不能コード）</a></p>
<p><strong><em>兆候と症状</em></strong>
使用されない変数、パラメーター、フィールド、メソッド、またはクラス。</p>
<p><strong><em>問題の理由</em></strong>
ソフトウェアの要件が変更されたり、修正が加えられたりすると、古いコードをクリーンアップする時間がありませんでした。
このようなコードは、分岐の1つが（エラーまたは他の状況により）到達不能になったときに、複雑な条件で見つかる可能性もあります。</p>
<p><strong><em>対処</em></strong>
Dead Codeを見つける最も簡単な方法は、優れたIDEを使用することです。
未使用のコードや不要なファイルを削除します。
クラスが不要な場合で、サブクラスまたはスーパークラスは使用される場合、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#inline-class">Inline Class</a>」または「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#collapse-hierarchy">Collapse Hierarchy</a>」を適用できます。
不要なパラメーターを削除するには、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#remove-parameter">Remove Parameter</a>」を使用します。</p>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>コードサイズの削減</li>
</ul>
<h1 id="speculativegenerality">Speculative Generality</h1>
<p><a href="https://sourcemaking.com/refactoring/smells/speculative-generality">Speculative Generality</a></p>
<p><strong><em>兆候と症状</em></strong>
未使用のクラス、メソッド、フィールド、またはパラメーターの存在。</p>
<p><strong><em>問題の理由</em></strong>
実装されない将来の機能をサポートするために、念のためにコードが作成されることがあります。その結果、コードの理解とサポートが難しくなります。</p>
<p><strong><em>対処</em></strong>
使用されていない抽象クラスを削除するには、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#collapse-hierarchy">Collapse Hierarchy</a>」を試してください。</p>
<ul>
  <li>不要な委譲処理は、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#inline-class">Inline Class</a>」を介して排除しましょう。</li>
  <li>未使用のメソッドは「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#inline-method">Inline Method</a>」を使用して取り除きます。</li>
  <li>使用されていないパラメーターを持つメソッドは、「<a href="https://qiita.com/taumax/items/f192b16676f78fa04849#remove-parameter">Remove Parameter</a>」の助けを借りて見てください。</li>
  <li>未使用のフィールドは単純に削除できます。</li>
</ul>
<p><strong><em>効果</em></strong></p>
<ul>
  <li>コードがスリムになります。</li>
</ul>
<p><strong><em>When to Ignore</em></strong>
フレームワークを開発している場合、フレームワークのユーザーがその機能を必要とする限り、フレームワーク自体で使用されていない機能を作成することは非常に合理的です。
要素を削除する前に、それらがテストクラスで使用されていないことも確認してください。これは、テストクラスが対象クラスから内部情報を取得したり、テスト関連の特別なアクションの実行に必要な場合に発生します。</p>

</section>
<!-- section class="box" -->

</div>
<!--/#main-->

</div>
<!--/#contents-->

</div>
<!--/#container-->

<!--ページの上部に戻る「↑」ボタン-->
<p class="nav-fix-pos-pagetop"><a href="#pagetop">↑</a></p>

<!--メニュー開閉ボタン-->
<div id="menubar_hdr" class="close"></div>

</body>
</html>

<!--メニューの開閉処理条件設定　800px以下-->
<script>
if (OCwindowWidth() <= 800) {
	open_close("menubar_hdr", "menubar-s");
}
</script>
<footer>
  <small><a href="https://nailmaru.github.io/">システム開発知識が集うサイト</a> All Rights Reserved.</small>
  <span class="pr"><a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a></span>
</footer>
